function launch(){launchFrom(mousePos.x)}function launchFrom(t){if(rockets.length<10){var e=new Rocket(t);e.explosionColor=10*Math.floor(360*Math.random()/10),e.vel.y=-3*Math.random()-4,e.vel.x=6*Math.random()-3,e.size=8,e.shrink=.999,e.gravity=.01,rockets.push(e)}}function loop(){SCREEN_WIDTH!=window.innerWidth&&(canvas.width=SCREEN_WIDTH=window.innerWidth),SCREEN_HEIGHT!=window.innerHeight&&(canvas.height=SCREEN_HEIGHT=window.innerHeight),context.fillStyle="rgba(0, 0, 0, 0.05)",context.fillRect(0,0,SCREEN_WIDTH,SCREEN_HEIGHT);for(var t=[],e=0;e<rockets.length;e++){rockets[e].update(),rockets[e].render(context);var o=Math.sqrt(Math.pow(mousePos.x-rockets[e].pos.x,2)+Math.pow(mousePos.y-rockets[e].pos.y,2)),a=rockets[e].pos.y<2*SCREEN_HEIGHT/3&&100*Math.random()<=1;rockets[e].pos.y<SCREEN_HEIGHT/5||rockets[e].vel.y>=0||o<50||a?rockets[e].explode():t.push(rockets[e])}rockets=t;var i=[];for(e=0;e<particles.length;e++)particles[e].update(),particles[e].exists()&&(particles[e].render(context),i.push(particles[e]));for(particles=i;particles.length>MAX_PARTICLES;)particles.shift()}function Particle(t){this.pos={x:t?t.x:0,y:t?t.y:0},this.vel={x:0,y:0},this.shrink=.97,this.size=2,this.resistance=1,this.gravity=0,this.flick=!1,this.alpha=1,this.fade=0,this.color=0}function Rocket(t){Particle.apply(this,[{x:t,y:SCREEN_HEIGHT}]),this.explosionColor=0}$(function(){$(".toast").toast("show");let t=new ScrollMagic.Controller,e=(new TimelineMax).fromTo("section.bg-success",5,{x:"-100%"},{x:"0%",ease:Circ.easeInOut}).fromTo("section.bg-warning",3,{y:"100%"},{y:"0%",ease:Bounce.easeInOut}).fromTo("section.bg-danger",5,{x:"100%"},{x:"0%",ease:Expo.easeInOut}).fromTo("#trigger1",1,{y:"1%"},{y:"0%",ease:Quint.easeInOut});new ScrollMagic.Scene({triggerElement:"#pin",triggerHook:"onLeave",duration:"1450%"}).setPin("#pin").setTween(e).on("enter",t=>{"REVERSE"==t.scrollDirection?($("section.bg-danger").css({transform:"translate(0%, 0px)"}),$("section.bg-warning").css({transform:"translate(0px, 0%)"})):($("section.bg-danger").css({transform:"translate(100%, 0px)"}),$("section.bg-warning").css({transform:"translate(0px, 100%)"}))}).addIndicators().addTo(t),new ScrollMagic.Scene({triggerElement:"#trigger0"}).setTween("#cong",2,{rotate:90}).on("enter leave",t=>{"enter"==t.type?launch_id&&loop_id&&(clearInterval(launch_id),clearInterval(loop_id)):(launch_id=setInterval(launch,800),loop_id=setInterval(loop,20))}).addTo(t);let o=(new TimelineMax).fromTo("div.card",2.5,{rotation:-60,x:"-50%",scale:.25},{rotation:0,x:"0%",scale:1,ease:Quint.easeInOut});new ScrollMagic.Scene({triggerElement:"#trigger1"}).setTween(o).addTo(t),setTimeout(()=>window.scrollTo(0,0),100)});var textWrapper=document.querySelector("#cong");textWrapper.innerHTML=textWrapper.textContent.replace(/\S/g,"<span class='letter'>$&</span>"),anime.timeline({loop:!0}).add({targets:"#cong .letter",opacity:[.25,1],easing:"easeInOutQuad",duration:2350,delay:(t,e)=>150*e}).add({targets:"#cong .letter",opacity:[1,.25],duration:1250,easing:"easeInOutCubic",delay:(t,e)=>150*e}),anime.timeline({loop:!0}).add({targets:"#end .word",scale:[14,1],opacity:[0,1],easing:"easeOutCirc",duration:800,delay:(t,e)=>800*e}).add({targets:"#end",opacity:0,duration:1e3,easing:"easeOutExpo",delay:1e3});let launch_id,loop_id,SCREEN_WIDTH=window.innerWidth,SCREEN_HEIGHT=window.innerHeight,mousePos={x:400,y:300},canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),particles=[],rockets=[],MAX_PARTICLES=400,colorCode=0;$(document).ready(function(){canvas.width=SCREEN_WIDTH,canvas.height=SCREEN_HEIGHT,launch_id=setInterval(launch,800),loop_id=setInterval(loop,20)}),$(document).mousemove(function(t){t.preventDefault(),mousePos={x:t.clientX,y:t.clientY}}),$(document).mousedown(function(t){for(var e=0;e<5;e++)launchFrom(Math.random()*SCREEN_WIDTH*2/3+SCREEN_WIDTH/6)}),Particle.prototype.update=function(){this.vel.x*=this.resistance,this.vel.y*=this.resistance,this.vel.y+=this.gravity,this.pos.x+=this.vel.x,this.pos.y+=this.vel.y,this.size*=this.shrink,this.alpha-=this.fade},Particle.prototype.render=function(t){if(this.exists()){t.save(),t.globalCompositeOperation="lighter";var e=this.pos.x,o=this.pos.y,a=this.size/2,i=t.createRadialGradient(e,o,.1,e,o,a);i.addColorStop(.1,"rgba(255,255,255,"+this.alpha+")"),i.addColorStop(.8,"hsla("+this.color+", 100%, 50%, "+this.alpha+")"),i.addColorStop(1,"hsla("+this.color+", 100%, 50%, 0.1)"),t.fillStyle=i,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size:this.size,0,2*Math.PI,!0),t.closePath(),t.fill(),t.restore()}},Particle.prototype.exists=function(){return this.alpha>=.1&&this.size>=1},Rocket.prototype=new Particle,Rocket.prototype.constructor=Rocket,Rocket.prototype.explode=function(){for(var t=10*Math.random()+80,e=0;e<t;e++){var o=new Particle(this.pos),a=Math.random()*Math.PI*2,i=15*Math.cos(Math.random()*Math.PI/2);o.vel.x=Math.cos(a)*i,o.vel.y=Math.sin(a)*i,o.size=5,o.gravity=.2,o.resistance=.92,o.shrink=.05*Math.random()+.93,o.flick=!0,o.color=this.explosionColor,particles.push(o)}},Rocket.prototype.render=function(t){if(this.exists()){t.save(),t.globalCompositeOperation="lighter";var e=this.pos.x,o=this.pos.y,a=this.size/2,i=t.createRadialGradient(e,o,.1,e,o,a);i.addColorStop(.1,"rgba(255, 255, 255 ,"+this.alpha+")"),i.addColorStop(1,"rgba(0, 0, 0, "+this.alpha+")"),t.fillStyle=i,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size/2+this.size/2:this.size,0,2*Math.PI,!0),t.closePath(),t.fill(),t.restore()}};